<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Votify TV</title>
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<style>
body{
  margin:0;
  background:#111;
  color:white;
  font-family:Arial;
  display:flex;
  height:100vh;
}
.left{
  flex:2;
  background:black;
}
.right{
  flex:1;
  padding:40px;
  background:#1b1b2e;
}
#qr{
  background:white;
  padding:20px;
  border-radius:12px;
  width:240px;
}
</style>
</head>
<body>

<div class="left"></div>

<div class="right">
  <h2>Escanea para votar</h2>
  <div id="qr"></div>
  <p id="link"></p>
</div>

<script>
const roomId = window.location.pathname.split("/").pop();
const voteUrl = window.location.origin + "/r/" + roomId;

document.getElementById("link").innerText = voteUrl;

QRCode.toCanvas(document.getElementById("qr"), voteUrl, {
  width:200
});
</script>

</body>
</html>